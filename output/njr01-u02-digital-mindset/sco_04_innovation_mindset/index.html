<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>عقلية الابتكار التقني | الذهنية الرقمية وممارسات الابتكار التقني</title>
  <link rel="stylesheet" href="../shared/base.css">
  <link rel="stylesheet" href="../shared/theme.css">
  <link rel="stylesheet" href="../shared/course-custom.css">
</head>
<body>
  <a href="#main-content" class="skip-nav">تخطي إلى المحتوى الرئيسي</a>

  <div class="sco-container">
    <header class="nav-bar">
      <span class="course-title">الوحدة 2: عقلية الابتكار التقني</span>
      <div class="points-badge elastic-click" id="pointsBadge" aria-label="النقاط">
        <span>&#11088;</span>
        <span class="points-count" id="pointsDisplay">0</span>
      </div>
    </header>

    <div class="progress-bar" role="progressbar"><div class="progress-fill" id="progressFill"></div></div>

    <main class="sco-content" id="main-content">

      <!-- Slide 0: Hero -->
      <div class="slide" data-slide="0">
        <div class="slide-inner">
          <div class="hero-section has-grain text-center stagger-item">
            <p style="font-size:var(--font-size-small); opacity:0.9;">الوحدة الثانية</p>
            <h1 class="display-text" style="color:white;">عقلية الابتكار التقني والتفكير التصميمي</h1>
            <p style="color:rgba(255,255,255,0.9);">لماذا تنجح شركات مثل <span class="ltr-inline">Google</span> و<span class="ltr-inline">Apple</span> بينما تفشل أخرى؟</p>
          </div>
          <div class="callout callout-tip stagger-item" style="max-width:700px; margin:12px auto 0;">
            <span class="callout-icon" aria-hidden="true">&#127919;</span>
            <div><strong>أهداف:</strong> المتطلبات الثلاثة لعقلية الابتكار &bull; المراحل الخمس للتفكير التصميمي &bull; المرونة والتكيف</div>
          </div>
        </div>
      </div>

      <!-- Slide 1: Three Requirements -->
      <div class="slide" data-slide="1">
        <div class="slide-inner align-top">
          <h2 class="stagger-item">المتطلبات الثلاثة لعقلية الابتكار التقني</h2>
          <p class="stagger-item">عقلية الابتكار التقني <strong>لا تقتصر على شركات التكنولوجيا</strong> — تنطبق على أي مجال يشهد تحولًا رقميًا. اضغط على كل دائرة:</p>

          <div style="display:grid; grid-template-columns:repeat(3, 1fr); gap:16px; margin-top:20px;">
            <div class="card shadow-sm hover-lift stagger-item text-center" style="cursor:pointer; border-top:4px solid var(--color-primary);" onclick="this.querySelector('.detail').classList.toggle('hidden')">
              <h3 style="font-size:2.5rem; margin-bottom:8px;">&#128065;</h3>
              <h4>التفكير التصميمي</h4>
              <p class="text-small ltr-inline">Design Thinking</p>
              <div class="detail hidden" style="margin-top:12px; padding-top:12px; border-top:1px solid var(--color-border);">
                <p class="text-small">فهم احتياجات المستخدم وبناء حلول متمحورة حول الإنسان.</p>
              </div>
            </div>
            <div class="card shadow-sm hover-lift stagger-item text-center" style="cursor:pointer; border-top:4px solid var(--color-secondary);" onclick="this.querySelector('.detail').classList.toggle('hidden')">
              <h3 style="font-size:2.5rem; margin-bottom:8px;">&#9889;</h3>
              <h4>المرونة والتكيف</h4>
              <p class="text-small ltr-inline">Agility & Adaptability</p>
              <div class="detail hidden" style="margin-top:12px; padding-top:12px; border-top:1px solid var(--color-border);">
                <p class="text-small">الاستجابة الفورية للتحديات والتطور مع التحولات طويلة الأمد.</p>
              </div>
            </div>
            <div class="card shadow-sm hover-lift stagger-item text-center" style="cursor:pointer; border-top:4px solid var(--color-accent);" onclick="this.querySelector('.detail').classList.toggle('hidden')">
              <h3 style="font-size:2.5rem; margin-bottom:8px;">&#128200;</h3>
              <h4>ملاءمة التكنولوجيا للسوق</h4>
              <p class="text-small ltr-inline">Technology-Market Fit</p>
              <div class="detail hidden" style="margin-top:12px; padding-top:12px; border-top:1px solid var(--color-border);">
                <p class="text-small">ضمان أن المنتج الرقمي يلبي احتياجات المستخدمين الفعلية.</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 2: Bridge -->
      <div class="slide" data-slide="2">
        <div class="slide-inner">
          <div class="callout callout-info stagger-item" style="max-width:700px; margin:0 auto;">
            <span class="callout-icon" aria-hidden="true">&#128279;</span>
            <div>
              <h3 style="margin-bottom:8px;">الربط بالوحدة السابقة</h3>
              <p>تعلمنا أن الابتكار يحتاج أفكارًا (العصف الذهني و<span class="ltr-inline">SCAMPER</span>)... الآن سنتعلم <strong>كيف نحوّل هذه الأفكار إلى واقع</strong> باستخدام التفكير التصميمي.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 3: DT Overview -->
      <div class="slide" data-slide="3">
        <div class="slide-inner align-top">
          <h2 class="stagger-item">التفكير التصميمي <span class="ltr-inline">(Design Thinking)</span></h2>
          <p class="stagger-item">نهج ابتكاري <strong>متمحور حول الإنسان</strong>، تستخدمه شركات مثل <span class="ltr-inline">Google</span> و<span class="ltr-inline">Apple</span>. يتكون من 5 مراحل:</p>

          <div class="journey-map stagger-item" style="margin-top:24px;" role="list" aria-label="مراحل التفكير التصميمي الخمس">
            <div style="text-align:center" role="listitem">
              <div class="journey-node" style="background:linear-gradient(135deg, #003366, #1A5C8A); color:white;">1</div>
              <div class="journey-label">التعاطف<br><span class="ltr-inline text-small">Empathize</span></div>
            </div>
            <div style="text-align:center" role="listitem">
              <div class="journey-node" style="background:linear-gradient(135deg, #003366, #1A5C8A); color:white;">2</div>
              <div class="journey-label">التحديد<br><span class="ltr-inline text-small">Define</span></div>
            </div>
            <div style="text-align:center" role="listitem">
              <div class="journey-node" style="background:linear-gradient(135deg, #003366, #1A5C8A); color:white;">3</div>
              <div class="journey-label">التفكير<br><span class="ltr-inline text-small">Ideate</span></div>
            </div>
            <div style="text-align:center" role="listitem">
              <div class="journey-node" style="background:linear-gradient(135deg, #003366, #1A5C8A); color:white;">4</div>
              <div class="journey-label">النموذج الأولي<br><span class="ltr-inline text-small">Prototype</span></div>
            </div>
            <div style="text-align:center" role="listitem">
              <div class="journey-node" style="background:linear-gradient(135deg, #003366, #1A5C8A); color:white;">5</div>
              <div class="journey-label">الاختبار<br><span class="ltr-inline text-small">Test</span></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 4: Phases 1&2 (Tabs) -->
      <div class="slide" data-slide="4">
        <div class="slide-inner align-top">
          <h2 class="stagger-item">المرحلتان الأولى والثانية</h2>
          <div class="tabs-container stagger-item" style="margin-top:12px;">
            <div class="tabs" role="tablist">
              <button class="tab active" role="tab" aria-selected="true" aria-controls="dt-p1" id="dt-t1" onclick="switchTab(this,'dt-p1')">1. التعاطف</button>
              <button class="tab" role="tab" aria-selected="false" aria-controls="dt-p2" id="dt-t2" onclick="switchTab(this,'dt-p2')">2. التحديد</button>
            </div>
            <div class="tab-content active" role="tabpanel" id="dt-p1" aria-labelledby="dt-t1">
              <div class="card shadow-sm">
                <h4>&#128153; التعاطف <span class="ltr-inline">(Empathize)</span></h4>
                <p><strong>الهدف:</strong> فهم احتياجات المستخدم الحقيقية — وليس ما نعتقد أنه يحتاجه.</p>
                <p><strong>الأدوات:</strong> الملاحظة المباشرة، المقابلات، اختبارات المستخدمين، الاستطلاعات.</p>
                <p><strong>مثال:</strong> قبل بناء تطبيق لطلاب الجامعة، اجلس معهم واسأل: ما أكبر مشكلة تواجهها يوميًا؟</p>
              </div>
            </div>
            <div class="tab-content" role="tabpanel" id="dt-p2" aria-labelledby="dt-t2">
              <div class="card shadow-sm">
                <h4>&#127919; التحديد <span class="ltr-inline">(Define)</span></h4>
                <p><strong>الهدف:</strong> تحويل الملاحظات إلى تعريف واضح ومحدد للمشكلة.</p>
                <p><strong>الأدوات:</strong> بيان المشكلة <span class="ltr-inline">(Problem Statement)</span>، خرائط التعاطف.</p>
                <p><strong>مثال:</strong> "طلاب جامعة نجران يحتاجون طريقة سهلة لحجز مواعيد العيادة الصحية لأن الطريقة الحالية تتطلب انتظارًا طويلاً."</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 5: Phase 3 -->
      <div class="slide" data-slide="5">
        <div class="slide-inner">
          <h2 class="stagger-item">المرحلة الثالثة: التفكير <span class="ltr-inline">(Ideate)</span></h2>
          <div class="card shadow-sm stagger-item" style="max-width:700px; margin:16px auto;">
            <h4>&#128161; الهدف: توليد أكبر عدد من الحلول</h4>
            <p>هنا نستخدم تقنيات توليد الأفكار التي تعلمناها في الوحدة الأولى!</p>
            <ul style="margin-top:12px;">
              <li><strong>العصف الذهني:</strong> لا نحكم على أي فكرة — الكم قبل الجودة</li>
              <li><strong><span class="ltr-inline">SCAMPER</span>:</strong> لتحسين الحلول القائمة منهجيًا</li>
              <li><strong>الخرائط الذهنية:</strong> لربط الأفكار واكتشاف زوايا جديدة</li>
            </ul>
            <div class="callout callout-tip" style="margin-top:12px;">
              <span class="callout-icon" aria-hidden="true">&#128172;</span>
              <div>القاعدة الذهبية: <strong>لا توجد فكرة سيئة</strong> في هذه المرحلة!</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 6: Phases 4&5 (Tabs) -->
      <div class="slide" data-slide="6">
        <div class="slide-inner align-top">
          <h2 class="stagger-item">المرحلتان الرابعة والخامسة</h2>
          <div class="tabs-container stagger-item" style="margin-top:12px;">
            <div class="tabs" role="tablist">
              <button class="tab active" role="tab" aria-selected="true" aria-controls="dt-p4" id="dt-t4" onclick="switchTab(this,'dt-p4')">4. النموذج الأولي</button>
              <button class="tab" role="tab" aria-selected="false" aria-controls="dt-p5" id="dt-t5" onclick="switchTab(this,'dt-p5')">5. الاختبار</button>
            </div>
            <div class="tab-content active" role="tabpanel" id="dt-p4" aria-labelledby="dt-t4">
              <div class="card shadow-sm">
                <h4>&#128230; النموذج الأولي <span class="ltr-inline">(Prototype)</span></h4>
                <p><strong>الهدف:</strong> بناء نماذج بسيطة وسريعة لاختبار الأفكار الواعدة.</p>
                <p><strong>الأنواع:</strong> ورقي (رسومات تخطيطية) — رقمي (نماذج تفاعلية) — مادي (منتجات أولية)</p>
                <p><strong>القاعدة:</strong> ابدأ بالأبسط والأرخص — لا تبني منتجًا كاملًا قبل الاختبار!</p>
              </div>
            </div>
            <div class="tab-content" role="tabpanel" id="dt-p5" aria-labelledby="dt-t5">
              <div class="card shadow-sm">
                <h4>&#9989; الاختبار <span class="ltr-inline">(Test)</span></h4>
                <p><strong>الهدف:</strong> تقييم الحل مع المستخدمين الحقيقيين وتحسينه.</p>
                <p><strong>العملية التكرارية:</strong> بناء &#8594; اختبار &#8594; صقل &#8594; تكرار</p>
                <p><strong>المفتاح:</strong> استمع للتغذية الراجعة بعقل مفتوح — الهدف هو التحسين وليس إثبات أنك على حق.</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 7: Worked Example (Timeline) -->
      <div class="slide" data-slide="7">
        <div class="slide-inner align-top">
          <h2 class="stagger-item">مثال: تطبيق التفكير التصميمي على تسجيل المقررات</h2>
          <div class="timeline stagger-item">
            <div class="timeline-item">
              <div class="timeline-content"><strong>1. التعاطف:</strong> مقابلة 50 طالبًا — اكتشفنا أن 80% يعانون من تعارض الجداول وصعوبة المقارنة بين الشُعب.</div>
            </div>
            <div class="timeline-item">
              <div class="timeline-content"><strong>2. التحديد:</strong> "الطلاب يحتاجون أداة ذكية تقترح الجداول المثلى وتكشف التعارضات تلقائيًا."</div>
            </div>
            <div class="timeline-item">
              <div class="timeline-content"><strong>3. التفكير:</strong> ولّدنا 15 فكرة باستخدام العصف الذهني — اخترنا أفضل 3.</div>
            </div>
            <div class="timeline-item">
              <div class="timeline-content"><strong>4. النموذج الأولي:</strong> رسمنا واجهة التطبيق على ورق واختبرناها مع 10 طلاب.</div>
            </div>
            <div class="timeline-item">
              <div class="timeline-content"><strong>5. الاختبار:</strong> 9 من 10 طلاب أكملوا المهمة بنجاح — عدّلنا زر "المقارنة" ليكون أوضح.</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 8: Sequence Sort Activity -->
      <div class="slide" data-slide="8">
        <div class="slide-inner align-top">
          <div class="quiz-container">
            <p class="quiz-progress">نشاط تفاعلي</p>
            <h3 class="question-stem stagger-item">رتّب المراحل الخمس للتفكير التصميمي بالترتيب الصحيح:</h3>
            <p class="text-secondary stagger-item">اسحب العناصر أو اضغط الأسهم لتغيير الترتيب</p>

            <div id="sortArea" class="stagger-item" style="display:flex; flex-direction:column; gap:8px; margin-top:16px; max-width:500px; margin-left:auto; margin-right:auto;">
              <div class="drag-item elastic-click" data-id="dt_3" tabindex="0" style="display:flex; justify-content:space-between; align-items:center;">
                <span>التفكير <span class="ltr-inline">(Ideate)</span></span>
                <span style="display:flex; gap:4px;">
                  <button class="btn-ghost" onclick="moveItem(this.closest('.drag-item'),-1)" aria-label="تحريك لأعلى">&#9650;</button>
                  <button class="btn-ghost" onclick="moveItem(this.closest('.drag-item'),1)" aria-label="تحريك لأسفل">&#9660;</button>
                </span>
              </div>
              <div class="drag-item elastic-click" data-id="dt_1" tabindex="0" style="display:flex; justify-content:space-between; align-items:center;">
                <span>التعاطف <span class="ltr-inline">(Empathize)</span></span>
                <span style="display:flex; gap:4px;">
                  <button class="btn-ghost" onclick="moveItem(this.closest('.drag-item'),-1)" aria-label="تحريك لأعلى">&#9650;</button>
                  <button class="btn-ghost" onclick="moveItem(this.closest('.drag-item'),1)" aria-label="تحريك لأسفل">&#9660;</button>
                </span>
              </div>
              <div class="drag-item elastic-click" data-id="dt_5" tabindex="0" style="display:flex; justify-content:space-between; align-items:center;">
                <span>الاختبار <span class="ltr-inline">(Test)</span></span>
                <span style="display:flex; gap:4px;">
                  <button class="btn-ghost" onclick="moveItem(this.closest('.drag-item'),-1)" aria-label="تحريك لأعلى">&#9650;</button>
                  <button class="btn-ghost" onclick="moveItem(this.closest('.drag-item'),1)" aria-label="تحريك لأسفل">&#9660;</button>
                </span>
              </div>
              <div class="drag-item elastic-click" data-id="dt_2" tabindex="0" style="display:flex; justify-content:space-between; align-items:center;">
                <span>التحديد <span class="ltr-inline">(Define)</span></span>
                <span style="display:flex; gap:4px;">
                  <button class="btn-ghost" onclick="moveItem(this.closest('.drag-item'),-1)" aria-label="تحريك لأعلى">&#9650;</button>
                  <button class="btn-ghost" onclick="moveItem(this.closest('.drag-item'),1)" aria-label="تحريك لأسفل">&#9660;</button>
                </span>
              </div>
              <div class="drag-item elastic-click" data-id="dt_4" tabindex="0" style="display:flex; justify-content:space-between; align-items:center;">
                <span>النموذج الأولي <span class="ltr-inline">(Prototype)</span></span>
                <span style="display:flex; gap:4px;">
                  <button class="btn-ghost" onclick="moveItem(this.closest('.drag-item'),-1)" aria-label="تحريك لأعلى">&#9650;</button>
                  <button class="btn-ghost" onclick="moveItem(this.closest('.drag-item'),1)" aria-label="تحريك لأسفل">&#9660;</button>
                </span>
              </div>
            </div>

            <button class="btn-primary elastic-click" id="checkSortBtn" onclick="checkSort()" style="margin-top:16px;">تحقق من الترتيب</button>
            <div id="sort-feedback" class="hidden" style="margin-top:16px;"></div>
          </div>
        </div>
      </div>

      <!-- Slide 9: KC - DT phases -->
      <div class="slide" data-slide="9">
        <div class="slide-inner">
          <div class="quiz-container">
            <p class="quiz-progress">فحص المعرفة</p>
            <h3 class="question-stem stagger-item">لماذا تأتي مرحلة التعاطف <span class="ltr-inline">(Empathize)</span> أولًا في التفكير التصميمي؟</h3>
            <div id="kc1-options">
              <button class="btn-quiz-option elastic-click stagger-item" data-id="a" onclick="answerKC('kc1',this,'a')">لأنها الأسهل تنفيذًا</button>
              <button class="btn-quiz-option elastic-click stagger-item" data-id="b" onclick="answerKC('kc1',this,'b')">لأننا نحتاج فهم احتياجات المستخدم الحقيقية قبل تحديد المشكلة أو توليد الحلول</button>
              <button class="btn-quiz-option elastic-click stagger-item" data-id="c" onclick="answerKC('kc1',this,'c')">لأن الشركات الكبرى تفعل ذلك دائمًا</button>
              <button class="btn-quiz-option elastic-click stagger-item" data-id="d" onclick="answerKC('kc1',this,'d')">لأنها لا تحتاج موارد كثيرة</button>
            </div>
            <div id="kc1-feedback" class="hidden" style="margin-top:16px;"></div>
          </div>
        </div>
      </div>

      <!-- Slide 10: Agility vs Adaptability (Flip cards) -->
      <div class="slide" data-slide="10">
        <div class="slide-inner align-top">
          <h2 class="stagger-item">المرونة مقابل القدرة على التكيف</h2>
          <p class="stagger-item">اضغط على كل بطاقة للمقارنة:</p>

          <div style="display:grid; grid-template-columns:repeat(2, 1fr); gap:20px; margin-top:20px;">
            <div class="flip-card hover-lift stagger-item" style="height:220px;" onclick="this.classList.toggle('flipped')" role="button" tabindex="0"
                 onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.classList.toggle('flipped')}">
              <div class="flip-card-inner">
                <div class="flip-card-front" style="padding:20px;">
                  <h3 style="color:white; font-size:1.5rem;">&#9889;</h3>
                  <h3 style="color:white;">المرونة</h3>
                  <p class="text-small ltr-inline" style="color:rgba(255,255,255,0.8);">Agility</p>
                </div>
                <div class="flip-card-back" style="padding:16px; text-align:right;">
                  <p><strong>التعريف:</strong> الاستجابة للتحديات أو الفرص <strong>الفورية</strong> بكفاءة.</p>
                  <p><strong>المدى:</strong> قصير المدى.</p>
                  <p><strong>مثال:</strong> شركة تعدّل حملتها التسويقية خلال يوم بسبب تغيّر مفاجئ في السوق.</p>
                </div>
              </div>
            </div>

            <div class="flip-card hover-lift stagger-item" style="height:220px;" onclick="this.classList.toggle('flipped')" role="button" tabindex="0"
                 onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.classList.toggle('flipped')}">
              <div class="flip-card-inner">
                <div class="flip-card-front" style="padding:20px;">
                  <h3 style="color:white; font-size:1.5rem;">&#128260;</h3>
                  <h3 style="color:white;">القدرة على التكيف</h3>
                  <p class="text-small ltr-inline" style="color:rgba(255,255,255,0.8);">Adaptability</p>
                </div>
                <div class="flip-card-back" style="padding:16px; text-align:right;">
                  <p><strong>التعريف:</strong> التطور والازدهار استجابة للتحولات <strong>الجذرية طويلة الأمد</strong>.</p>
                  <p><strong>المدى:</strong> طويل المدى.</p>
                  <p><strong>مثال:</strong> شركة تحوّل نموذج أعمالها بالكامل من البيع المباشر إلى التجارة الإلكترونية.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 11: Business Opportunities (Accordion) -->
      <div class="slide" data-slide="11">
        <div class="slide-inner align-top">
          <h2 class="stagger-item">تحديد فرص الأعمال</h2>
          <div class="accordion stagger-item" style="margin-top:16px;">
            <div class="accordion-item">
              <button class="accordion-header" aria-expanded="false" onclick="toggleAccordion(this)">
                <span>&#128200; الطلب في السوق</span>
                <span class="chevron" aria-hidden="true">&#9660;</span>
              </button>
              <div class="accordion-body" role="region">
                <p>هل يوجد طلب حقيقي على هذا المنتج أو الخدمة؟ ابحث عن مشكلات يعاني منها عدد كبير من الناس.</p>
              </div>
            </div>
            <div class="accordion-item">
              <button class="accordion-header" aria-expanded="false" onclick="toggleAccordion(this)">
                <span>&#128161; حل مشكلة حقيقية</span>
                <span class="chevron" aria-hidden="true">&#9660;</span>
              </button>
              <div class="accordion-body" role="region">
                <p>الفرصة الجيدة تحل مشكلة حقيقية يواجهها الناس. كلما كانت المشكلة أكبر وأكثر إلحاحًا، كانت الفرصة أقوى.</p>
              </div>
            </div>
            <div class="accordion-item">
              <button class="accordion-header" aria-expanded="false" onclick="toggleAccordion(this)">
                <span>&#128640; قابلية التوسع <span class="ltr-inline">(Scalability)</span></span>
                <span class="chevron" aria-hidden="true">&#9660;</span>
              </button>
              <div class="accordion-body" role="region">
                <p>هل يمكن أن ينمو المشروع ويخدم عددًا أكبر من المستخدمين دون زيادة كبيرة في التكاليف؟</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 12: KC - Agility vs Adaptability -->
      <div class="slide" data-slide="12">
        <div class="slide-inner">
          <div class="quiz-container">
            <p class="quiz-progress">فحص المعرفة</p>
            <h3 class="question-stem stagger-item">المرونة <span class="ltr-inline">(Agility)</span> والقدرة على التكيف <span class="ltr-inline">(Adaptability)</span> مفهومان متطابقان — كلاهما يعني الاستجابة السريعة للتغيرات الفورية.</h3>
            <div id="kc2-options">
              <button class="btn-quiz-option elastic-click stagger-item" data-id="true" onclick="answerKC('kc2',this,'true')">صحيح</button>
              <button class="btn-quiz-option elastic-click stagger-item" data-id="false" onclick="answerKC('kc2',this,'false')">خطأ</button>
            </div>
            <div id="kc2-feedback" class="hidden" style="margin-top:16px;"></div>
          </div>
        </div>
      </div>

      <!-- Slide 13: Module Summary -->
      <div class="slide" data-slide="13">
        <div class="slide-inner">
          <h2 class="text-center stagger-item">ملخص الوحدة الثانية</h2>
          <div style="display:grid; grid-template-columns:repeat(auto-fill, minmax(250px, 1fr)); gap:16px; margin-top:20px;">
            <div class="card shadow-sm stagger-item" style="border-right:4px solid var(--color-primary);">
              <h4>&#128065; التفكير التصميمي</h4>
              <p>5 مراحل: تعاطف &#8594; تحديد &#8594; تفكير &#8594; نموذج أولي &#8594; اختبار</p>
            </div>
            <div class="card shadow-sm stagger-item" style="border-right:4px solid var(--color-secondary);">
              <h4>&#9889; المرونة والتكيف</h4>
              <p>المرونة = استجابة فورية. التكيف = تطور طويل الأمد.</p>
            </div>
            <div class="card shadow-sm stagger-item" style="border-right:4px solid var(--color-accent);">
              <h4>&#128200; فرص الأعمال</h4>
              <p>طلب السوق + حل مشكلة حقيقية + قابلية التوسع</p>
            </div>
          </div>
          <div class="callout callout-success stagger-item" style="margin-top:20px; max-width:600px; margin-left:auto; margin-right:auto;">
            <span class="callout-icon" aria-hidden="true">&#127775;</span>
            <div><strong>أحسنت! أكملت الوحدة الثانية (67%).</strong> في الوحدة القادمة: من الفكرة إلى السوق.</div>
          </div>
        </div>
      </div>

    </main>

    <nav class="sco-nav" aria-label="تنقل الدرس">
      <button class="btn-prev elastic-click" id="prevBtn" disabled>السابق</button>
      <span class="page-indicator" id="pageIndicator">1 / 14</span>
      <button class="btn-next elastic-click" id="nextBtn" data-next-text="التالي" data-complete-text="إكمال الوحدة">التالي</button>
    </nav>
  </div>

  <script src="../shared/scorm-api.js"></script>
  <script src="../shared/engine/slide-controller.js"></script>
  <script src="../shared/engine/sound-effects.js"></script>
  <script src="../shared/engine/confetti.js"></script>
  <script src="../shared/behavior-tracker.js"></script>
  <script src="../shared/gamification.js"></script>

  <script>
  (function() {
    'use strict';

    window.switchTab = function(btn, panelId) {
      var tabs = btn.parentElement.querySelectorAll('.tab');
      tabs.forEach(function(t) { t.classList.remove('active'); t.setAttribute('aria-selected','false'); });
      var panels = btn.closest('.tabs-container').querySelectorAll('.tab-content');
      panels.forEach(function(p) { p.classList.remove('active'); });
      btn.classList.add('active'); btn.setAttribute('aria-selected','true');
      document.getElementById(panelId).classList.add('active');
    };

    window.toggleAccordion = function(btn) {
      var item = btn.parentElement;
      var isOpen = item.classList.contains('open');
      var siblings = item.parentElement.querySelectorAll('.accordion-item');
      siblings.forEach(function(s) { s.classList.remove('open'); s.querySelector('.accordion-header').setAttribute('aria-expanded','false'); });
      if (!isOpen) { item.classList.add('open'); btn.setAttribute('aria-expanded','true'); }
    };

    var scorm = new SCORMWrapper();
    scorm.initialize();
    var currentStatus = scorm.getValue('cmi.core.lesson_status');
    if (!currentStatus || currentStatus === 'not attempted') {
      scorm.setValue('cmi.core.lesson_status', 'incomplete');
    }

    var sounds = new SoundEffects();
    var confetti = new Confetti();
    var startTime = new Date();
    var points = 0;
    var pointsDisplay = document.getElementById('pointsDisplay');
    var pointsBadge = document.getElementById('pointsBadge');

    try {
      var saved = scorm.getValue('cmi.suspend_data');
      if (saved) { var p = JSON.parse(saved); if (p.points) { points = p.points; pointsDisplay.textContent = points; } }
    } catch(e) {}

    function awardPoints(n) {
      points += n; pointsDisplay.textContent = points;
      pointsBadge.classList.add('glow');
      setTimeout(function() { pointsBadge.classList.remove('glow'); }, 600);
    }

    // Sort activity
    window.moveItem = function(item, direction) {
      var parent = item.parentElement;
      if (direction === -1 && item.previousElementSibling) {
        parent.insertBefore(item, item.previousElementSibling);
        sounds.playSound('pop');
      } else if (direction === 1 && item.nextElementSibling) {
        parent.insertBefore(item.nextElementSibling, item);
        sounds.playSound('pop');
      }
    };

    var sortChecked = false;
    window.checkSort = function() {
      if (sortChecked) return;
      sortChecked = true;
      var items = document.querySelectorAll('#sortArea .drag-item');
      var correct = ['dt_1','dt_2','dt_3','dt_4','dt_5'];
      var allCorrect = true;
      items.forEach(function(item, i) {
        var id = item.getAttribute('data-id');
        if (id === correct[i]) {
          item.style.borderColor = 'var(--color-success)';
          item.style.background = 'var(--color-success-bg)';
        } else {
          item.style.borderColor = 'var(--color-error)';
          item.style.background = 'var(--color-error-bg)';
          allCorrect = false;
        }
      });
      document.getElementById('checkSortBtn').disabled = true;
      var fb = document.getElementById('sort-feedback');
      fb.classList.remove('hidden');
      if (allCorrect) {
        awardPoints(10);
        sounds.playSound('success');
        fb.className = 'feedback-correct';
        fb.innerHTML = '<span>&#10004;</span><div>ممتاز! رتّبت المراحل بشكل صحيح: تعاطف &#8594; تحديد &#8594; تفكير &#8594; نموذج أولي &#8594; اختبار.</div>';
      } else {
        sounds.playSound('error');
        fb.className = 'feedback-incorrect';
        fb.innerHTML = '<span>&#128161;</span><div>ليس بعد! الترتيب الصحيح: تعاطف &#8594; تحديد &#8594; تفكير &#8594; نموذج أولي &#8594; اختبار. نبدأ دائمًا بفهم المستخدم.</div>';
      }
    };

    // Knowledge checks
    var kcAnswers = { kc1: 'b', kc2: 'false' };
    var kcAnswered = {};
    window.answerKC = function(id, btn, sel) {
      if (kcAnswered[id]) return;
      kcAnswered[id] = true;
      var isCorrect = sel === kcAnswers[id];
      var opts = document.querySelectorAll('#' + id + '-options .btn-quiz-option');
      opts.forEach(function(o) { o.disabled = true; });
      btn.classList.add(isCorrect ? 'correct' : 'incorrect');
      if (!isCorrect) opts.forEach(function(o) { if (o.getAttribute('data-id') === kcAnswers[id]) o.classList.add('correct'); });
      var fb = document.getElementById(id + '-feedback');
      fb.classList.remove('hidden');
      if (isCorrect) {
        awardPoints(5); sounds.playSound('success');
        fb.className = 'feedback-correct';
        fb.innerHTML = '<span>&#10004;</span><div>أحسنت! إجابة صحيحة.</div>';
      } else {
        sounds.playSound('error');
        fb.className = 'feedback-incorrect';
        fb.innerHTML = '<span>&#128161;</span><div>ليس بعد — أنت تتعلم!</div>';
      }
    };

    var slideController = new SlideController({
      onSlideChange: function() { sounds.playSound('whoosh'); },
      onComplete: function() {
        awardPoints(15); sounds.playSound('celebration'); confetti.fire();
        scorm.setValue('cmi.core.lesson_status', 'completed');
        var d = Math.floor((new Date() - startTime) / 1000);
        var h = Math.floor(d/3600), m = Math.floor((d%3600)/60), s = d%60;
        scorm.setValue('cmi.core.session_time', (h<10?'0':'')+h+':'+(m<10?'0':'')+m+':'+(s<10?'0':'')+s);
        try { scorm.setValue('cmi.suspend_data', JSON.stringify({points:points,completed:true})); } catch(e) {}
        scorm.commit();
      }
    });

    var bk = scorm.getValue('cmi.core.lesson_location');
    if (bk) { var sv = parseInt(bk,10); if (!isNaN(sv) && sv > 0) slideController.resumeFrom(sv); }
    window.addEventListener('beforeunload', function() {
      scorm.setValue('cmi.core.lesson_location', String(slideController.currentIndex)); scorm.commit();
    });
  })();
  </script>
</body>
</html>
